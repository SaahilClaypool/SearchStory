@page "/All"
@using System.IO;

@if(Data is not null)
{
    @foreach (var (fileInfo, index) in Data.WithIndex())
    {
        <div class="pt-4">
            <a href=@($"Document/{fileInfo.Name}") target="_blank">
                <h5 class="card-header">@($"{index + 1}. {fileInfo.Name}")</h5>
            </a>
        </div>
    }
}
@code {
    [Inject] ListDocuments ListDocuments { get; set; }

    [Inject] public DirectoryService Dirs { get; set; }

    [Inject] ILogger<Add> Logger { get; set; }

    IEnumerable<FileInfo>? Data = null;

    protected override async Task OnInitializedAsync()
    {
        Data = (await ListDocuments.Execute(new())).Files;
    }
}
